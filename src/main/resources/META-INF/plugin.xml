<idea-plugin>
    <id>com.luminarix-labs.tempest</id>
    <name>Tempest</name>
    <vendor url="https://luminarix.dev">Luminarix Labs</vendor>
    <description>
        Provides comprehensive support for the Tempest PHP framework, including syntax highlighting for
        template interpolations, comments, attributes, conditionals, and loops. Features include safe/unsafe
        interpolation highlighting, customizable color schemes, and a toggle to enable/disable the plugin.
    </description>
    
    <!-- Dependencies -->
    <depends>com.intellij.modules.platform</depends>
    <depends>com.jetbrains.php</depends>
    
    <!-- Extensions -->
    <extensions defaultExtensionNs="com.intellij">
        <!-- Services -->
        <applicationService serviceImplementation="com.luminarixlabs.tempest.settings.TempestSettings"/>
        
        <!-- Syntax highlighting -->
        <lang.syntaxHighlighterFactory
            language="PHP"
            implementationClass="com.luminarixlabs.tempest.syntax.TempestSyntaxHighlighterFactory"/>
        
        <!-- Advanced syntax highlighting -->
        <annotator
            language="PHP"
            implementationClass="com.luminarixlabs.tempest.syntax.TempestAnnotator"/>
        
        <!-- Color settings page -->
        <colorSettingsPage
            implementation="com.luminarixlabs.tempest.settings.TempestColorSettingsPage"/>
        <!-- Typed handler for Tempest templating auto-completion -->
        <typedHandler implementation="com.luminarixlabs.tempest.editor.TemplatingTypedHandler"/>
        <!-- Completion contributor for Tempest expression attributes -->
        <completion.contributor language="HTML" implementationClass="com.luminarixlabs.tempest.completion.TempestCompletionContributor"/>

        <!-- Go-to-view -->
        <psi.referenceContributor
            language="PHP"
            implementation="com.luminarixlabs.tempest.goto.ViewReferenceContributor"/>

        <!-- Inspections -->
        <localInspection
            language="PHP"
            groupName="Tempest"
            displayName="Missing view file"
            enabledByDefault="true"
            level="ERROR"
            implementationClass="com.luminarixlabs.tempest.inspections.MissingViewFileInspection"/>
    </extensions>
    
    <!-- Actions -->
    <actions>
        <action
            id="com.luminarixlabs.tempest.actions.TempestToggleAction"
            class="com.luminarixlabs.tempest.actions.TempestToggleAction"
            text="Toggle Tempest Support"
            description="Enable or disable Tempest syntax highlighting">
            <add-to-group group-id="ToolsMenu" anchor="last"/>
        </action>
    </actions>
</idea-plugin>
